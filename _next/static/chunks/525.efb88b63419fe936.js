!function(){"use strict";function r(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function n(n){return function(n){if(Array.isArray(n))return r(n)}(n)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(n)||function(n,e){if(n){if("string"===typeof n)return r(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(r){var e=l(n(r),!1),a=-9,o=null;e.forEach((function(r,n){var e=t(r,9,!1);e>a&&(a=e,o=n)}));var i=function(r,n){for(var e=0;e<r.length;e++)if(r[e]!=n[e])return e;return 0}(r,e[o]);postMessage(i)}function t(r,n,e){var a=function(r){var n={terminal:!1,player:null,score:0},e=function(r){for(var n={terminal:!1,player:null},e=0;e<3;e++){var t=r[e],a=r[e+3],l=r[e+6];1==t&&1==a&&1==l&&(n.terminal=!0,n.player=!0),0==t&&0==a&&0==l&&(n.terminal=!0,n.player=!1)}return n}(r),t=function(r){for(var n={terminal:!1,player:null},e=0;e<7;e+=3){var t=r[e],a=r[e+1],l=r[e+2];1==t&&1==a&&1==l&&(n.terminal=!0,n.player=!0),0==t&&0==a&&0==l&&(n.terminal=!0,n.player=!1)}return n}(r),a=function(r){var n={terminal:!1,player:null},e=r[0],t=r[4],a=r[8];1==e&&1==t&&1==a&&(n.terminal=!0,n.player=!0),0==e&&0==t&&0==a&&(n.terminal=!0,n.player=!1);var l=r[6],o=r[2];return 1==o&&1==t&&1==l&&(n.terminal=!0,n.player=!0),0==o&&0==t&&0==l&&(n.terminal=!0,n.player=!1),n}(r);return e.terminal?(n.terminal=!0,n.player=e.player,n.score=e.player?-1:1,n):t.terminal?(n.terminal=!0,n.player=t.player,n.score=t.player?-1:1,n):a.terminal?(n.terminal=!0,n.player=a.player,n.score=a.player?-1:1,n):(function(r){return!r.some((function(r){return!0!==r&&!1!==r}))}(r)&&(n.terminal=!0,n.player=null,n.score=0),n)}(r);if(0==n||a.terminal)return a.score;if(e)return o=9,l(r,!1).forEach((function(r){var e=t(r,n-1,!1);e<o&&(o=e)})),o;var o=-9;return l(r,!0).forEach((function(r){var e=t(r,n-1,!0);e>o&&(o=e)})),o}function a(r,e,t){var a=n(t);return a[e]=r,a}function l(r,n){for(var e=[],t=0;t<r.length;t++)null==r[t]&&e.push(a(n,t,r));return e}function o(r,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](r):r instanceof n}Array.prototype.equals=function(r){if(!r)return!1;if(this.length!=r.length)return!1;for(var n=0,e=this.length;n<e;n++)if(o(this[n],Array)&&o(r[n],Array)){if(!this[n].equals(r[n]))return!1}else if(this[n]!=r[n])return!1;return!0},self.onmessage=function(r){console.log(r),e(r.data)}}(),_N_E={};