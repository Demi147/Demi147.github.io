!function(){"use strict";function r(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,l=new Array(n);e<n;e++)l[e]=r[e];return l}function n(n){return function(n){if(Array.isArray(n))return r(n)}(n)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(n)||function(n,e){if(n){if("string"===typeof n)return r(n,e);var l=Object.prototype.toString.call(n).slice(8,-1);return"Object"===l&&n.constructor&&(l=n.constructor.name),"Map"===l||"Set"===l?Array.from(l):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?r(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var e=[[null,null,null,null,null,null,null,null,null]];function l(r){var e=u(n(r),!1),l=-9,a=null;e.forEach((function(n,e){var u=t(r,8,!1);u>l&&(l=u,a=e)}));var o=function(r,n){for(var e=0;e<r.length;e++)if(r[e]!=n[e])return e;return 0}(r,e[a]);postMessage(o)}function t(r,n,l){var a=function(r){var n={terminal:!1,player:null,score:0},e=function(r){for(var n={terminal:!1,player:null},e=0;e<3;e++){var l=r[e],t=r[e+3],a=r[e+6];1==l&&1==t&&1==a&&(n.terminal=!0,n.player=!0),0==l&&0==t&&0==a&&(n.terminal=!0,n.player=!1)}return n}(r),l=function(r){for(var n={terminal:!1,player:null},e=0;e<7;e+=3){var l=r[e],t=r[e+1],a=r[e+2];1==l&&1==t&&1==a&&(n.terminal=!0,n.player=!0),0==l&&0==t&&0==a&&(n.terminal=!0,n.player=!1)}return n}(r),t=function(r){var n={terminal:!1,player:null},e=r[0],l=r[4],t=r[8];1==e&&1==l&&1==t&&(n.terminal=!0,n.player=!0),0==e&&0==l&&0==t&&(n.terminal=!0,n.player=!1);var a=r[6],u=r[2];return 1==u&&1==l&&1==a&&(n.terminal=!0,n.player=!0),0==u&&0==l&&0==a&&(n.terminal=!0,n.player=!1),n}(r);return e.terminal?(n.terminal=!0,n.player=e.player,n.score=e.player?-1:1,n):l.terminal?(n.terminal=!0,n.player=l.player,n.score=l.player?-1:1,n):t.terminal?(n.terminal=!0,n.player=t.player,n.score=t.player?-1:1,n):(function(r){return r.some((function(r){return null==r}))}(r)&&(n.terminal=!0,n.player=null,n.score=0),n)}(r);if(0==n||a.terminal)return a.score;if(l)o=9,u(r,!1).forEach((function(r){if(!e.some((function(n){return n.equals(r)}))){e.push(r);var l=t(r,n-1,!1);l<o&&(o=l)}}));else{var o=-9;u(r,!0).forEach((function(r){if(!e.some((function(n){return n.equals(r)}))){e.push(r);var l=t(r,n-1,!0);l>o&&(o=l)}}))}}function a(r,e,l){var t=n(l);return t[e]=r,t}function u(r,n){for(var e=[],l=0;l<r.length;l++)null==r[l]&&e.push(a(n,l,r));return e}function o(r,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](r):r instanceof n}Array.prototype.equals=function(r){if(!r)return!1;if(this.length!=r.length)return!1;for(var n=0,e=this.length;n<e;n++)if(o(this[n],Array)&&o(r[n],Array)){if(!this[n].equals(r[n]))return!1}else if(this[n]!=r[n])return!1;return!0},self.onmessage=function(r){console.log(r),e=[[null,null,null,null,null,null,null,null,null]],l(r.data)}}(),_N_E={};