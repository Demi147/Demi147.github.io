!function(){"use strict";function r(r,n){(null==n||n>r.length)&&(n=r.length);for(var l=0,e=new Array(n);l<n;l++)e[l]=r[l];return e}function n(n){return function(n){if(Array.isArray(n))return r(n)}(n)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(n)||function(n,l){if(n){if("string"===typeof n)return r(n,l);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(n,l):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=[[null,null,null,null,null,null,null,null,null]];function e(r,n,t){var u=function(r){var n={terminal:!1,player:null,score:0},l=function(r){for(var n={terminal:!1,player:null},l=0;l<3;l++){var e=r[l],t=r[l+3],a=r[l+6];1==e&&1==t&&1==a&&(n.terminal=!0,n.player=!0),0==e&&0==t&&0==a&&(n.terminal=!0,n.player=!1)}return n}(r),e=function(r){for(var n={terminal:!1,player:null},l=0;l<7;l+=3){var e=r[l],t=r[l+1],a=r[l+2];1==e&&1==t&&1==a&&(n.terminal=!0,n.player=!0),0==e&&0==t&&0==a&&(n.terminal=!0,n.player=!1)}return n}(r),t=function(r){var n={terminal:!1,player:null},l=r[0],e=r[4],t=r[8];1==l&&1==e&&1==t&&(n.terminal=!0,n.player=!0),0==l&&0==e&&0==t&&(n.terminal=!0,n.player=!1);var a=r[6],u=r[2];return 1==u&&1==e&&1==a&&(n.terminal=!0,n.player=!0),0==u&&0==e&&0==a&&(n.terminal=!0,n.player=!1),n}(r);return l.terminal?(n.terminal=!0,n.player=l.player,n.score=l.player?-1:1,n):e.terminal?(n.terminal=!0,n.player=e.player,n.score=e.player?-1:1,n):t.terminal?(n.terminal=!0,n.player=t.player,n.score=t.player?-1:1,n):(function(r){return r.some((function(r){return null==r}))}(r)&&(n.terminal=!0,n.player=null,n.score=0),n)}(r);if(0==n||u.terminal&&null!=u.player)return u.score;if(t)o=9,a(r,!1).forEach((function(r){if(!l.some((function(n){return n.equals(r)}))){l.push(r);var t=e(r,n-1,!1);t<o&&(o=t)}}));else{var o=-9;a(r,!0).forEach((function(r){if(!l.some((function(n){return n.equals(r)}))){l.push(r);var t=e(r,n-1,!0);t>o&&(o=t)}}))}}function t(r,l,e){var t=n(e);return t[l]=r,t}function a(r,n){for(var l=[],e=0;e<r.length;e++)null==r[e]&&l.push(t(n,e,r));return l}function u(r,n){return null!=n&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](r):r instanceof n}Array.prototype.equals&&console.warn("Overriding existing Array.prototype.equals. Possible causes: New API defines the method, there's a framework conflict or you've got double inclusions in your code."),Array.prototype.equals=function(r){if(!r)return!1;if(this.length!=r.length)return!1;for(var n=0,l=this.length;n<l;n++)if(u(this[n],Array)&&u(r[n],Array)){if(!this[n].equals(r[n]))return!1}else if(this[n]!=r[n])return!1;return!0},self.onmessage=function(r){l=[[null,null,null,null,null,null,null,null,null]],e([null,null,null,null,null,null,null,null,null],9,!1)}}(),_N_E={};